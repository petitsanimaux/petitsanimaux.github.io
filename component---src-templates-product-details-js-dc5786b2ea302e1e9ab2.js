"use strict";(self.webpackChunkcrochetnest=self.webpackChunkcrochetnest||[]).push([[538],{5535:function(e,t,n){n.r(t),n.d(t,{Head:function(){return H},default:function(){return B}});var r=n(7294),a=n(5593),l=n(1590),o=n(3938),i=(n(1883),n(8951));var s=e=>{const{etsyLink:t}=e;return r.createElement(i.Z,{variant:"pink",href:t},"Buy on Etsy")};var c=e=>{const{0:t,1:n}=(0,r.useState)(!1),{cart:a,updateQuantity:l}=(0,r.useContext)(o.Z),{id:i,price:c,priceId:u,etsyAffiliateLink:m,shouldRedirectToCart:d}=e;return r.createElement(r.Fragment,null,!1,r.createElement(s,{etsyLink:m}))},u=n(8032),m=(e,t)=>{const n=d(e);if(!t)return n;const r=d(t);return{left:n.left-r.left,top:n.top-r.top,right:n.right-r.left,bottom:n.bottom-r.top,width:n.width,height:n.height}},d=e=>{const t=e.getBoundingClientRect();let n=0,r=0,a=e.parentElement;for(;a;)n+=a.scrollLeft,r+=a.scrollTop,a=a.parentElement;const l=t.left+n,o=t.top+r;return{left:l,top:o,right:l+t.width,bottom:o+t.height,width:t.width,height:t.height}},h=(e,t,n)=>{const r=((e,t)=>{const n=window.getComputedStyle(e).getPropertyValue(`scroll-padding-${t}`);if("auto"===n)return 0;const r=`Unsupported scroll padding value, expected <length> or <percentage> value, received ${n}`;if(n.endsWith("px")){const e=parseInt(n);return g(!Number.isNaN(e),r),e}if(n.endsWith("%")){const t=parseInt(n);return g(!Number.isNaN(t),r),e.clientWidth/100*t}throw new p(r)})(e,n),a=((e,t)=>{const n=window.getComputedStyle(e).getPropertyValue(`scroll-margin-${t}`),r=`Unsupported scroll margin value, expected <length> value, received ${n}`;g(n.endsWith("px"),r);const a=parseInt(n);return g(!Number.isNaN(a),r),a})(t,n),l=m(t,t.parentElement);return Math.min(r+a,l[n])};function g(e,t){if(!e)throw new p(t)}var p=class extends Error{constructor(e){super(`[react-snap-carousel]: ${e}`)}},f=n(9689);var E=e=>{const{color:t=""}=e;return r.createElement("div",{"aria-label":"Arrow Button",role:"button",className:`Arrow ${e.isLeft?"LeftArrow":"RightArrow"} ${t}`})};const v=e=>{const{isLeft:t,onClick:n}=e,a=t?"ScrollButton Left":"ScrollButton Right";return r.createElement(f.Z,{className:a,variant:"unstyled",onClick:n},r.createElement(E,{isLeft:t,color:"pink"}))},x=e=>{const{0:t,1:n}=(0,r.useState)(!1);(0,r.useEffect)((()=>{n(!0)}),[n]);const{activePageIndex:a,scrollRef:l,goTo:o,snapPointIndexes:i,next:s,prev:c,pages:u}=(({axis:e="x",initialPages:t=[]}={})=>{const n="x"===e?"width":"height",a="x"===e?"scrollWidth":"scrollHeight",l="x"===e?"clientWidth":"clientHeight",o="x"===e?"left":"top",i="x"===e?"right":"bottom",s="x"===e?"scrollLeft":"scrollTop",[c,u]=(0,r.useState)(null),[{pages:d,activePageIndex:p},f]=(0,r.useState)({pages:t,activePageIndex:0}),E=(0,r.useCallback)((e=>{if(!c)return;if(Math.floor(c[a]-c[s])<=c[l])return void f({pages:e,activePageIndex:e.length-1});const t=Array.from(c.children),n=c.getBoundingClientRect(),r=e.map((e=>{const r=e[0],a=t[r];g(a instanceof HTMLElement,"Expected HTMLElement");const l=h(c,a,o),i=a.getBoundingClientRect()[o]-n[o]-l;return Math.abs(i)})),i=Math.min(...r),u=r.indexOf(i);f({pages:e,activePageIndex:u})}),[c,l,o,a,s]),v=(0,r.useCallback)((()=>{if(!c)return;const e=Array.from(c.children),t=c.getBoundingClientRect();let r;const a=e.reduce(((e,a,l)=>{g(a instanceof HTMLElement,"Expected HTMLElement");const s=e[e.length-1],u=m(a,a.parentElement);if(!s||u[i]-r>Math.ceil(t[n])){e.push([l]);const t=h(c,a,o);r=u[o]-t}else s.push(l);return e}),[]);E(a)}),[E,c,n,i,o,s]);(0,r.useLayoutEffect)((()=>{v()}),[v]),(0,r.useEffect)((()=>{const e=()=>{v()};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[v]),(0,r.useEffect)((()=>{if(!c)return;const e=()=>{E(d)};return c.addEventListener("scroll",e),()=>{c.removeEventListener("scroll",e)}}),[E,d,c]);const x=e=>{if(!c)return;const t=d[e];if(!t)return;const n=Array.from(c.children)[t[0]];if(!(n instanceof HTMLElement))return;const r=h(c,n,o);c.scrollTo({behavior:"smooth",[o]:m(n,n.parentElement)[o]-r})},w=(0,r.useMemo)((()=>new Set(d.map((e=>e[0])))),[d]);return{prev:()=>{x(p-1)},next:()=>{x(p+1)},goTo:x,refresh:v,pages:d,activePageIndex:p,snapPointIndexes:w,scrollRef:u}})(),d=a===u.length-1,p=0===a,f=e=>()=>{e?p?o(u.length-1):c():d?o(0):s()},E=u.length>0?u[0].length:0,x=Math.max(a*E-E,0),w=Math.min(x+E+E,e.children.length-1);return r.createElement("div",{className:"Carousel"},r.createElement("ul",{className:"CarouselContainer",ref:l,style:{display:"flex",overflow:"auto",scrollSnapType:"x mandatory"}},e.children.map(((e,n)=>r.createElement("li",{className:"CarouselImage",style:t?{scrollSnapAlign:i.has(n)?"start":""}:null,key:n},n>=x&&n<=w&&r.createElement(r.Fragment,null,e))))),r.createElement(v,{isLeft:!0,onClick:f(!0)}),r.createElement(v,{isLeft:!1,onClick:f(!1)}))};var w=e=>0===e.children.length?null:r.createElement(x,e);var y=n(2489),L=n(2757),C=n(2675);const P=()=>r.createElement(y.K,null,r.createElement(L.X,{as:"h4",size:"md"},"Shipping"),r.createElement(C.x,null,"Made to order, will ship in 1 - 2 weeks."),r.createElement(C.x,null,"Note: Each item is made with highest care and attention to details. However due to the nature of handmade items, slight differences may show from the pictures."),r.createElement(C.x,null,"Ships from California!"),r.createElement(C.x,null,r.createElement("i",null,"Gentle use is recommended"))),k=e=>{const{photos:t,title:n}=e;return r.createElement("div",{className:"ProductDetailsPhotoCarousel"},r.createElement(w,null,t.map((e=>r.createElement("div",{className:"ProductDetailsSecondaryPhoto",key:e},r.createElement(u.G,{key:e,image:e,alt:n}))))))},N=e=>{const{title:t,description:n,price:a,variations:l,etsyAffiliateLink:o}=e;return r.createElement("div",{className:"ProductDetailsProductDetails"},r.createElement(y.K,{className:"ProductDetailsPricingDetails"},r.createElement(L.X,{as:"h1",size:"lg"},t),r.createElement(L.X,{as:"h2",size:"md",variant:"nonBoldHeading"},"$",parseFloat(a).toFixed(2),"+ USD"),r.createElement(c,{etsyAffiliateLink:o}),r.createElement(L.X,{as:"h3",size:"md"},"Item details"),r.createElement(C.x,{as:"p",variant:"nonBoldHeading",className:"ProductDescription"},n),!1),r.createElement(y.K,null,r.createElement(P,null)))},b=e=>{const{title:t,gatsbyImages:n}=e;return r.createElement("div",{className:"ProductDetailsPageContainer"},r.createElement(k,{photos:n,title:t}),r.createElement(N,e))};var I=e=>{const{product:t}=e;return r.createElement(r.Fragment,null,r.createElement(l.Z,null,r.createElement(b,t)))},S=n(8799),M=n(8842),T=n(6090);const A=e=>({...M.o,name:e.title,category:"crochet",image:e.images.length>0?e.images[0]:"",description:e.description});function H(e){const t=(0,T.y)(e.data);let n="Cannot find the product";t.length>0&&(n=t[0].title);const l={page:{name:n}};return r.createElement(a.Z,Object.assign({},e,{data:l}))}var B=e=>{const t=(0,T.y)(e.data);if(0===t.length)return r.createElement(r.Fragment,null,"Cannot find the product.");const n=t[0];return r.createElement(r.Fragment,null,r.createElement(I,{product:n}),r.createElement(S.Z,{data:A(n)}))}}}]);
//# sourceMappingURL=component---src-templates-product-details-js-dc5786b2ea302e1e9ab2.js.map