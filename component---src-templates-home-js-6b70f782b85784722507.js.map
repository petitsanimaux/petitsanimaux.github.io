{"version":3,"file":"component---src-templates-home-js-6b70f782b85784722507.js","mappings":"sIACO,MAAMA,EAAaA,CAACC,EAAQC,KAC/B,MAAMC,EAAmB,GASzB,OARAF,EAAOG,SAAQC,IACbA,EAAMC,YAAYC,MAAM,KAAKH,SAAQE,IAC/BJ,EAAaM,SAAWF,EAAYE,QACtCL,EAAiBM,KAAKJ,EACxB,GACA,IAGGF,EAAiBO,MAAM,C,qCCiBlC,IATgBC,IACd,MAAM,KAAEC,GAASD,EAEjB,OACEE,EAAAA,cAAA,UAAQC,KAAK,sBAAsBC,wBAAyB,CAAEC,OAAQC,KAAKC,UAAUN,KAAW,C,8ECvBpG,MACMO,EAAe,iDACfC,EAAY,cAELC,EAAgB,CACzB,WAAY,yBACZ,QAAS,UACT,MAASD,EACT,KAAQD,EACR,KAAQ,GACR,SAAY,GACZ,MAAS,GACT,YAAe,GACf,gBAAmB,CACf,QAAS,kBACT,YAAe,IACf,YAAe,OAIVG,EAAa,CACtB,WAAY,qBACZ,QAAS,eACT,KAAQF,EACR,KAAQD,EACR,IAzBY,2BA0BZ,YAAe,2F,uKClBnB,MAAMI,EAAYZ,IAChB,MAAM,SAAEa,EAAQ,MAAEC,EAAK,OAAExB,EAAM,WAAEyB,GAAef,EAE1CgB,GAAiBC,EAAAA,EAAAA,UAAQ,KACtB5B,EAAAA,EAAAA,GAAWC,EAAQyB,GAAY,IACrC,CAACzB,EAAQyB,IAEZ,OACEb,EAAAA,cAAA,OAAKgB,UAAU,yBACbhB,EAAAA,cAACiB,EAAAA,KAAS,CAACD,UAAU,eAAeE,GAAE,aAAeP,GACnDX,EAAAA,cAACmB,EAAAA,GAAE,KAAEP,GACLZ,EAAAA,cAACoB,EAAAA,EAAW,CACVC,OAAOC,EAAAA,EAAAA,GAASR,EAAeS,MAC/BC,IAAKZ,KAGL,EAuBV,MAnBcd,IACZ,MAAM,WAAE2B,EAAU,OAAErC,GAAWU,EAE/B,OACEE,EAAAA,cAAA,OAAKgB,UAAU,wBAEbhB,EAAAA,cAAC0B,EAAAA,GAAE,KAAC,uBAEJ1B,EAAAA,cAAA,OAAKgB,UAAU,qBACZS,EAAWE,QAAOhB,GAAYiB,QAAQjB,EAASkB,UAASC,KAAKnB,GAE1DX,EAAAA,cAACU,EAAQqB,OAAAC,OAAA,CAACC,IAAKtB,EAASA,UAAcA,EAAQ,CAAEvB,OAAQA,QAI1D,E,oBCDH,SAAS8C,EAAKpC,GAOnB,OAAOE,EAAAA,cAACmC,EAAAA,EAAUJ,OAAAC,OAAA,GAAKlC,EAAK,CAAEC,KANjB,CACXqC,KAAM,CACJC,KAAM,wBAKZ,CA8BA,MAvEsBvC,IACpB,MAAM,4CACJwC,EAA2C,qBAC3CC,GACEzC,EAAMC,KAEJ0B,EAAazB,EAAAA,SAAc,IACxBsC,EAA4CE,MAAMV,KAAKW,IACrD,IACFA,EACHZ,OAAQD,QAAsC,SAA9Ba,EAAKZ,OAAOa,oBAG/B,CAACJ,IAEElD,EAASY,EAAAA,SAAc,IACpBuC,EAAqBC,MAAMb,QAAOnC,GAASA,EAAMC,eACvD,CAAC8C,IAEJ,OACEvC,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC2C,EAAAA,EAAkB,KACjB3C,EAAAA,cAAC4C,EAAab,OAAAC,OAAA,GAAKlC,EAAK,CACtB2B,WAAYA,EACZrC,OAAQA,MAIZY,EAAAA,cAAC6C,EAAAA,EAAM,CAAC9C,KAAMU,EAAAA,IACb,C","sources":["webpack://wedding/./src/layout/images/photoFinder.js","webpack://wedding/./src/layout/jsonLd/index.js","webpack://wedding/./src/seo/jsonLd.js","webpack://wedding/./src/layout/pages/PetitsAnimauxHome/index.js","webpack://wedding/./src/templates/home.js"],"sourcesContent":["\nexport const findPhotos = (photos, coverPhotoId) => {\n    const associatedPhotos = [];\n    photos.forEach(photo => {\n      photo.description.split(\",\").forEach(description => {\n        if (coverPhotoId.trim() === description.trim()) {\n          associatedPhotos.push(photo);\n        }\n      });\n    });\n\n    return associatedPhotos.sort();\n};","import React, {useEffect, useState}  from \"react\";\n\nexport const withTwoPassRendering = (WrappedComponent) => ({\n    children,\n    ...rest\n  }) => {\n    const [isClient, setIsClient] = useState(false);\n  \n    useEffect(() => {\n      setIsClient(true);\n    }, [setIsClient]);\n  \n    return (\n      <WrappedComponent {...rest} key={isClient}>\n        {children}\n      </WrappedComponent>\n    );\n  };\n\nconst JsonLd = (props) => {\n  const { data } = props;\n\n  return (\n    <script type='application/ld+json' dangerouslySetInnerHTML={{ __html: JSON.stringify(data) }} />\n  )\n\n};\n\nexport default JsonLd;","const baseUrl = \"https://crochetnest.com/\";\nconst brandLogoUrl = \"https://crochetnest.com/icons/icon-512x512.png\";\nconst brandName = \"CrochetNest\";\n\nexport const productJsonLd = {\n    \"@context\": \"https://www.schema.org\",\n    \"@type\": \"product\",\n    \"brand\": brandName,\n    \"logo\": brandLogoUrl,\n    \"name\": \"\",\n    \"category\": \"\",\n    \"image\": \"\",\n    \"description\": \"\",\n    \"aggregateRating\": {\n        \"@type\": \"aggregateRating\",\n        \"ratingValue\": \"5\",\n        \"reviewCount\": \"60\"\n    }\n};\n\nexport const homeJsonLd = {\n    \"@context\": \"http://schema.org/\",\n    \"@type\": \"Organization\",\n    \"name\": brandName,\n    \"logo\": brandLogoUrl,\n    \"url\": baseUrl,\n    \"description\": \"Discover the unique items that Crochet Nests creates. We sell the best crochet products.\",\n};","import React, { useMemo } from \"react\";\nimport { H1, H2 } from \"../../components/Header\";\nimport { Link as GatsyLink } from \"gatsby\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\nimport { findPhotos } from \"../../images/photoFinder\";\n\nimport \"./styles.scss\";\n\nconst HomeCard = (props) => {\n  const { category, title, photos, coverPhoto } = props;\n\n  const coverPhotoFile = useMemo(() => {\n    return findPhotos(photos, coverPhoto)[0];\n  }, [photos, coverPhoto]);\n\n  return (\n    <div className=\"CategoryLinkContainer\">\n      <GatsyLink className=\"CategoryLink\" to={`/category/${category}`}>\n        <H2>{title}</H2>\n        <GatsbyImage\n          image={getImage(coverPhotoFile.file)}\n          alt={title}\n        />\n      </GatsyLink>\n    </div>\n  );\n}\n\nconst Home = (props) => {\n  const { categories, photos } = props;\n\n  return (\n    <div className=\"PetitsAnimauxSection\">\n\n      <H1>Shop Top Categories</H1>\n\n      <div className=\"CategoryContainer\">\n        {categories.filter(category => Boolean(category.active)).map((category) => {\n          return (\n            <HomeCard key={category.category} {...category} photos={photos} />\n          );\n        })}\n      </div>\n    </div>\n  )\n};\n\nexport default Home;","import { graphql } from \"gatsby\";\n\nimport React from \"react\";\nimport MainSectionWrapper from \"../layout\";\nimport CommonHead from \"../layout/Head\";\nimport PetitsAnimaux from \"../layout/pages/PetitsAnimauxHome\";\nimport JsonLd from \"../layout/jsonLd\";\nimport { homeJsonLd } from \"../seo/jsonLd\";\n\nconst PageTemplate = (props) => {\n  const {\n    allGoogleSpreadsheetPetitsAnimauxCategories,\n    allGooglePhotosPhoto,\n  } = props.data;\n\n  const categories = React.useMemo(() => {\n    return allGoogleSpreadsheetPetitsAnimauxCategories.nodes.map((node) => {\n      return {\n        ...node,\n        active: Boolean(node.active.toLowerCase() === 'true')\n      };\n    });\n  }, [allGoogleSpreadsheetPetitsAnimauxCategories]);\n\n  const photos = React.useMemo(() => {\n    return allGooglePhotosPhoto.nodes.filter(photo => photo.description);\n  }, [allGooglePhotosPhoto]);\n\n  return (\n    <>\n      <MainSectionWrapper>\n        <PetitsAnimaux {...props}\n          categories={categories}\n          photos={photos}\n        />\n      </MainSectionWrapper>\n\n      <JsonLd data={homeJsonLd} />\n    </>\n  )\n};\n\nexport function Head(props) {\n  const data = {\n    page: {\n      name: \"Crochet Nest Home\",\n    }\n  };\n\n  return <CommonHead {...props} data={data} />;\n}\n\nexport const query = graphql`\n  query PetitsAnimaux {\n    allGoogleSpreadsheetPetitsAnimauxCategories {\n      nodes {\n        coverPhoto \n        category\n        title\n        active \n      }\n    }\n\n    allGooglePhotosPhoto(filter: {album: {title: {eq: \"P2F\"} } }) {\n      nodes {\n        id\n        file {\n          childImageSharp {\n            gatsbyImageData(\n              height: 160\n            )\n          }\n        }\n        description\n      }\n    }\n\n  }\n`;\n\nexport default PageTemplate;"],"names":["findPhotos","photos","coverPhotoId","associatedPhotos","forEach","photo","description","split","trim","push","sort","props","data","React","type","dangerouslySetInnerHTML","__html","JSON","stringify","brandLogoUrl","brandName","productJsonLd","homeJsonLd","HomeCard","category","title","coverPhoto","coverPhotoFile","useMemo","className","GatsyLink","to","H2","GatsbyImage","image","getImage","file","alt","categories","H1","filter","Boolean","active","map","Object","assign","key","Head","CommonHead","page","name","allGoogleSpreadsheetPetitsAnimauxCategories","allGooglePhotosPhoto","nodes","node","toLowerCase","MainSectionWrapper","PetitsAnimaux","JsonLd"],"sourceRoot":""}