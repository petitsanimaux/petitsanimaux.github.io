"use strict";(self.webpackChunkwedding=self.webpackChunkwedding||[]).push([[681],{6090:function(e,t,n){n.d(t,{i:function(){return a}});var r=n(462);const a=(e,t)=>{const n=(0,r.C)(t,e.coverPhotoId);return{...e,coverPhoto:n[0],photos:n,dimensions:[e.length?"Length: "+e.length:null,e.width?"Width: "+e.width:null,e.height?"Height: "+e.height:null].filter((e=>e))}}},2032:function(e,t,n){var r=n(7294);t.Z=e=>r.createElement("button",Object.assign({className:"Button"},e),e.children)},462:function(e,t,n){n.d(t,{C:function(){return r}});const r=(e,t)=>{const n=[];return e.forEach((e=>{e.description.split(",").forEach((r=>{t.trim()===r.trim()&&n.push(e)}))})),n.sort()}},8788:function(e,t,n){n.r(t),n.d(t,{Head:function(){return j},default:function(){return k}});var r=n(7294),a=n(5593),i=n(5785),o=n(2032),c="https://js.stripe.com/v3",s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",u=null,d=function(e){return null!==u||(u=new Promise((function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(l),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(c,'"]')),t=0;t<e.length;t++){var n=e[t];if(s.test(n.src))return n}return null}();r&&e?console.warn(l):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(c).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(a){return void n(a)}else t(null)}))),u},m=Promise.resolve().then((function(){return d(null)})),p=!1;m.catch((function(e){p||console.warn(e)}));var h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p=!0;var r=Date.now();return m.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.52.1",startTime:t})}(r,n),r}(e,t,r)}))};const f="price_1NAPJrBLdrhwtT8MG1ExlgPh";var v=function(e){const{lineItems:t}=e,[n,a]=r.useState(null);return r.useEffect((()=>{!async function(){const e=await h("pk_live_51MbzZWBLdrhwtT8MQVnLB1gU0MwJOrOtPZDvLSoUNHryAm0P1je9wct7pWxtNmEhhxtOazi64BrcuF7jptOvZnVj00fSmORI80");a(e)}()}),[]),r.createElement(o.Z,{disabled:!n||0===t.length,onClick:async()=>{if(!n)return;const{error:e}=await n.redirectToCheckout({lineItems:[{price:f,quantity:1}].concat((0,i.Z)(t)),mode:"payment",billingAddressCollection:"required",shippingAddressCollection:{allowedCountries:["US"]},successUrl:"https://crochetnest.com/success",cancelUrl:"https://crochetnest.com/"})}},"Checkout")},w=n(6952),g=n(8032);var E=e=>{const{product:t,updateQuantity:n,priceId:a,id:i,quantity:o}=e,{coverPhoto:c,name:s,price:l}=t;return r.createElement("div",{className:"PetitsAnimauxCartItem"},r.createElement("div",{className:"PetitsAnimauxCardImage"},r.createElement(g.G,{image:(0,g.c)(c.file),alt:s})),r.createElement("div",{className:"PetitsAnimauxCardTitleHeader"},r.createElement(w.H2,null,s),r.createElement(w.H3,null,"$",l)),r.createElement("div",{className:"PetitsAnimauxCartQuantityController"},r.createElement("button",{onClick:()=>{n(a,i,o-1)}},"-"),r.createElement("span",null,o),r.createElement("button",{onClick:()=>{n(a,i,o+1)}},"+")),r.createElement("button",{onClick:()=>{n(a,i,0)}},"Delete"))};const y={CART:"CART"},C={[y.CART]:!0};var P=e=>{const{0:t,1:n}=(0,r.useState)(C);return(0,r.useEffect)((()=>{const e={};Object.keys(y).forEach((t=>{e[t]=Boolean(C[t]||sessionStorage.getItem(t))})),n(e)}),[]),Boolean(t[e])},S=n(3938);var b=e=>{const{products:t}=e,n=P(y.CART),{cart:a,updateQuantity:i}=(0,r.useContext)(S.Z);return n?0===a.length?r.createElement("div",{className:"CartPage"},"Add some items to your cart!"):r.createElement("div",{className:"CartPage"},a.map((e=>{const{id:n,priceId:a,quantity:o}=e,c=t.find((e=>e.id===n));return r.createElement(E,{key:n,id:n,priceId:a,quantity:o,product:c,updateQuantity:i})})),r.createElement(v,{lineItems:a.map((e=>({price:e.priceId,quantity:e.quantity})))})):null},A=n(7782),x=n(6090);function j(e){const{allGoogleSpreadsheetPetitsAnimauxProducts:t}=e.data,n={page:{name:t.nodes[0].name}};return r.createElement(a.Z,Object.assign({},e,{data:n}))}var k=e=>{const{allGoogleSpreadsheetPetitsAnimauxProducts:t,allGooglePhotosPhoto:n}=e.data,a=t.nodes.map((e=>(0,x.i)(e,n.nodes)));return r.createElement(A.Z,null,r.createElement(b,{products:a}))}}}]);
//# sourceMappingURL=component---src-templates-cart-js-a7ff087cc4e60161f27d.js.map