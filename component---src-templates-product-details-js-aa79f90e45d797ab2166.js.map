{"version":3,"file":"component---src-templates-product-details-js-aa79f90e45d797ab2166.js","mappings":"8OA8BA,MAxBsBA,IAClB,MAAM,QAAEC,GAAYD,GACd,WACFE,EAAU,WACVC,EAAU,KACVC,EAAI,MACJC,EAAK,UACLC,GACAL,EACJ,OACIM,EAAAA,cAACC,EAAAA,EAAkB,KACfD,EAAAA,cAAAA,EAAAA,SAAA,KACIA,EAAAA,cAACE,EAAAA,GAAE,KAAEL,GACLG,EAAAA,cAACG,EAAAA,EAAW,CACRC,OAAOC,EAAAA,EAAAA,GAASV,EAAWW,MAC3BC,IAAKV,IAGTG,EAAAA,cAACQ,EAAAA,EAAe,CAACT,UAAWA,GAAW,QAAMD,IAEhC,ECJtB,SAASW,EAAKhB,GAOnB,OAAOO,EAAAA,cAACU,EAAAA,EAAUC,OAAAC,OAAA,GAAKnB,EAAK,CAAEoB,KANjB,CACXC,KAAM,CACJjB,KAAM,wBAKZ,CAqCA,MA3DsBJ,IACpB,MAAM,0CACJsB,EAAyC,qBACzCC,GACEvB,EAAMoB,KAGJnB,ECdqBuB,EAACvB,EAASwB,KAC5B,IACAxB,EACHC,WAAYuB,EAAOC,MAAKC,IAAUA,EAAMC,aAAe,IAAIC,SAAW5B,EAAQ6B,aAAaD,SAC3F1B,WAAY,CACRF,EAAQ8B,OAAM,WAAc9B,EAAQ8B,OAAW,KAC/C9B,EAAQ+B,MAAK,UAAa/B,EAAQ+B,MAAU,KAC5C/B,EAAQgC,OAAM,WAAchC,EAAQgC,OAAW,MACjDC,QAAOC,GAAKA,MDMJX,CADHF,EAA0Cc,MAAM,GACzBb,EAAqBa,OAEzD,OACE7B,EAAAA,cAAC8B,EAAkB,CAACpC,QAASA,GAAW,C","sources":["webpack://wedding/./src/layout/pages/ProductDetailsPage/index.js","webpack://wedding/./src/templates/productDetails.js","webpack://wedding/./src/graphql/products.js"],"sourcesContent":["import React from \"react\";\nimport { H1 } from \"../../components/Header\";\nimport MainSectionWrapper from \"../../index\";\nimport StripeBuyButton from \"../../components/StripeBuyButton\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\nconst PageTemplate = (props) => {\n    const { product } = props;\n    const {\n        coverPhoto,\n        dimensions,\n        name,\n        price,\n        stripeUrl,\n    } = product;\n    return (\n        <MainSectionWrapper>\n            <>\n                <H1>{name}</H1>\n                <GatsbyImage\n                    image={getImage(coverPhoto.file)}\n                    alt={name}\n                />\n\n                <StripeBuyButton stripeUrl={stripeUrl}>USD ${price}</StripeBuyButton>\n            </>\n        </MainSectionWrapper>\n    )\n};\n\nexport default PageTemplate;","import { graphql } from \"gatsby\";\n\nimport React from \"react\";\nimport CommonHead from \"../layout/Head\";\nimport ProductDetailsPage from \"../layout/pages/ProductDetailsPage\";\n\nimport {formatProduct} from \"../graphql/products\";\n\nconst PageTemplate = (props) => {\n  const {\n    allGoogleSpreadsheetPetitsAnimauxProducts,\n    allGooglePhotosPhoto,\n  } = props.data;\n  \n  const data = allGoogleSpreadsheetPetitsAnimauxProducts.nodes[0];\n  const product = formatProduct(data, allGooglePhotosPhoto.nodes);\n\n  return (\n    <ProductDetailsPage product={product} />\n  )\n};\n\nexport function Head(props) {\n  const data = {\n    page: {\n      name: \"Crochet Nest Home\",\n    }\n  };\n\n  return <CommonHead {...props} data={data} />;\n}\n\nexport const query = graphql`\n  query PetitsAnimaux($id: String!) {\n    allGoogleSpreadsheetPetitsAnimauxProducts(filter: {id: {eq: $id}}) {\n      nodes {\n        name\n        id\n        price\n        category\n        stripeUrl\n        coverPhotoId\n        width\n        height\n        length\n      }\n    }\n    \n    allGooglePhotosPhoto(filter: {album: {title: {eq: \"P2F\"} } }) {\n      nodes {\n        id\n        file {\n          childImageSharp {\n            gatsbyImageData(\n              height: 500\n              placeholder: BLURRED\n              formats: [AUTO, WEBP]\n            )\n          }\n        }\n        description\n      }\n    }\n\n  }\n`;\n\nexport default PageTemplate;","\nexport const formatProduct = (product, photos) => {\n    return {\n        ...product,\n        coverPhoto: photos.find(photo => (photo.description || \"\").trim() === product.coverPhotoId.trim()),\n        dimensions: [\n            product.length ? `Length: ${product.length}` : null,\n            product.width ? `Width: ${product.width}` : null,\n            product.height ? `Height: ${product.height}` : null,\n        ].filter(a => a),\n    }\n}\n"],"names":["props","product","coverPhoto","dimensions","name","price","stripeUrl","React","MainSectionWrapper","H1","GatsbyImage","image","getImage","file","alt","StripeBuyButton","Head","CommonHead","Object","assign","data","page","allGoogleSpreadsheetPetitsAnimauxProducts","allGooglePhotosPhoto","formatProduct","photos","find","photo","description","trim","coverPhotoId","length","width","height","filter","a","nodes","ProductDetailsPage"],"sourceRoot":""}