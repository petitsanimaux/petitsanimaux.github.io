{"version":3,"file":"component---src-templates-category-js-775fdfca222d02d32ceb.js","mappings":"qHAaA,IATgBA,GAGRC,EAAAA,cAAA,SAAAC,OAAAC,OAAA,CAAQC,UAAU,UAAaJ,GAC1BA,EAAMK,S,yFCyBnB,MA5ByBL,IACrB,MAAM,EAAEM,EAAS,EAACC,IAAeC,EAAAA,EAAAA,WAAS,IACpC,KAAEC,EAAI,eAAEC,IAAmBC,EAAAA,EAAAA,YAAWC,EAAAA,IAEtC,GAACC,EAAE,QAAEC,GAAWd,EACtB,IAAKc,EACD,OAAO,KAGX,MAaMC,EAAOT,EAAW,SAAW,cACnC,OACIL,EAAAA,cAACe,EAAAA,EAAM,CAACC,SAAUX,EAAUY,QAfhBC,KACZ,MAAMC,EAAOX,EAAKY,MAAKD,GAAQA,EAAKN,UAAYA,IAI5CJ,EAAeI,EAASD,EAHvBO,EAG2BA,EAAKE,SAAW,EAFhB,GAIhCf,GAAY,GACZgB,YAAW,KACPhB,GAAY,EAAM,GACnB,IAAI,GAKwCQ,EAAc,EChBrE,MARyBf,IACrB,MAAM,GAACa,EAAE,QAAEC,GAAWd,EAEtB,OACIC,EAAAA,cAACuB,EAAe,CAACV,QAASA,EAASD,GAAIA,GAAM,C,qCCmBrD,IATgBb,IACd,MAAM,KAAEyB,GAASzB,EAEjB,OACEC,EAAAA,cAAA,UAAQyB,KAAK,sBAAsBC,wBAAyB,CAAEC,OAAQC,KAAKC,UAAUL,KAAW,C,0ICuIhGM,EAAgB,CAACC,EAAIC,KACvB,MAAMC,EAAOC,EAAeH,GAC5B,IAAKC,EACH,OAAOC,EAET,MAAME,EAAeD,EAAeF,GACpC,MAAO,CACLI,KAAMH,EAAKG,KAAOD,EAAaC,KAC/BC,IAAKJ,EAAKI,IAAMF,EAAaE,IAC7BC,MAAOL,EAAKK,MAAQH,EAAaC,KACjCG,OAAQN,EAAKM,OAASJ,EAAaE,IACnCG,MAAOP,EAAKO,MACZC,OAAQR,EAAKQ,OACd,EAECP,EAAkBH,IACpB,MAAME,EAAOF,EAAGW,wBAChB,IAAIC,EAAa,EACbC,EAAY,EACZC,EAAWd,EAAGe,cAClB,KAAOD,GACLF,GAAcE,EAASF,WACvBC,GAAaC,EAASD,UACtBC,EAAWA,EAASC,cAEtB,MAAMV,EAAOH,EAAKG,KAAOO,EACnBN,EAAMJ,EAAKI,IAAMO,EACvB,MAAO,CACLR,OACAC,MACAC,MAAOF,EAAOH,EAAKO,MACnBD,OAAQF,EAAMJ,EAAKQ,OACnBD,MAAOP,EAAKO,MACZC,OAAQR,EAAKQ,OACd,EA8BCM,EAA4B,CAACC,EAAUC,EAAQC,KACjD,MAAMC,EA7BwB,EAACpB,EAAImB,KACnC,MACMC,EADQC,OAAOC,iBAAiBtB,GACVuB,iBAAiB,kBAAkBJ,KAC/D,GAAsB,SAAlBC,EACF,OAAO,EAET,MAAMI,EAAa,uFAAuFJ,IAC1G,GAAIA,EAAcK,SAAS,MAAO,CAChC,MAAMC,EAAQC,SAASP,GAEvB,OADAQ,GAAQC,OAAOC,MAAMJ,GAAQF,GACtBE,CACT,CACA,GAAIN,EAAcK,SAAS,KAAM,CAC/B,MAAMC,EAAQC,SAASP,GAEvB,OADAQ,GAAQC,OAAOC,MAAMJ,GAAQF,GACtBxB,EAAG+B,YAAc,IAAML,CAChC,CACA,MAAM,IAAIM,EAASR,EAAW,EAYRS,CAA0BhB,EAAUE,GACpDe,EAXuB,EAAClC,EAAImB,KAClC,MACMe,EADQb,OAAOC,iBAAiBtB,GACXuB,iBAAiB,iBAAiBJ,KACvDK,EAAa,sEAAsEU,IACzFN,EAAOM,EAAaT,SAAS,MAAOD,GACpC,MAAME,EAAQC,SAASO,GAEvB,OADAN,GAAQC,OAAOC,MAAMJ,GAAQF,GACtBE,CAAK,EAISS,CAAyBjB,EAAQC,GAChDjB,EAAOH,EAAcmB,EAAQA,EAAOH,eAC1C,OAAOqB,KAAKC,IAAIjB,EAAgBc,EAAchC,EAAKiB,GAAK,EAE1D,SAASS,EAAOF,EAAOY,GACrB,IAAIZ,EAGJ,MAAM,IAAIM,EAASM,EACrB,CACA,IAAIN,EAAW,cAAcO,MAC3BC,YAAYF,GACVG,MAAM,0BAA0BH,IAClC,G,UChOF,MATetE,IACX,MAAM,MAAC0E,EAAQ,IAAM1E,EACrB,OACIC,EAAAA,cAAA,OAAK,aAAW,eAAe0E,KAAK,SAChCvE,UAAS,UAAWJ,EAAM4E,OAAS,YAAc,cAAY,IAAIF,GAC/D,ECFd,MAAMG,EAAW7E,IACf,MAAM,OAAE4E,EAAM,QAAE1D,GAAYlB,EACtB8E,EAAKF,EAAS,oBAAsB,qBAE1C,OACE3E,EAAAA,cAAC8E,EAAAA,EAAU,CACT3E,UAAW0E,EACXE,QAAQ,WACR9D,QAASA,GAETjB,EAAAA,cAACgF,EAAK,CAACL,OAAQA,EAAQF,MAAO,SACnB,EAIXQ,EAAYlF,IAChB,MAAM,EAACmF,EAAS,EAACC,IAAe5E,EAAAA,EAAAA,WAAS,IAEzC6E,EAAAA,EAAAA,YAAU,KACRD,GAAY,EAAK,GAChB,CAACA,IAEJ,MAAM,gBACJE,EAAe,UACfC,EAAS,KACTC,EAAI,iBACJC,EAAgB,KAChBC,EAAI,KACJC,EAAI,MACJC,GF5BkB,GACpBC,OAAO,IACPC,eAAe,IACb,CAAC,KACH,MAAMC,EAAqB,MAATF,EAAe,QAAU,SACrCG,EAA2B,MAATH,EAAe,cAAgB,eACjDI,EAA2B,MAATJ,EAAe,cAAgB,eACjDK,EAAuB,MAATL,EAAe,OAAS,MACtCM,EAAsB,MAATN,EAAe,QAAU,SACtCO,EAAqB,MAATP,EAAe,aAAe,aACzC5C,EAAUoD,IAAe,IAAA7F,UAAS,QAClC,MAAEoF,EAAK,gBAAEN,GAAmBgB,IAAoB,IAAA9F,UAAS,CAC9DoF,MAAOE,EACPR,gBAAiB,IAEbiB,GAAoB,IAAAC,cACvBC,IACC,IAAKxD,EACH,OAGF,GADyBmB,KAAKsC,MAAMzD,EAAS+C,GAAmB/C,EAASmD,KAAenD,EAASgD,GAG/F,YADAK,EAAiB,CAAEV,MAAOa,EAAQnB,gBAAiBmB,EAAOE,OAAS,IAGrE,MAAMC,EAAQC,MAAMC,KAAK7D,EAAS5C,UAC5B0G,EAAa9D,EAASN,wBACtBqE,EAAUP,EAAOQ,KAAKC,IAC1B,MAAMC,EAAYD,EAAK,GACjBE,EAASR,EAAMO,GACrBvD,EAAOwD,aAAkBC,YAAa,wBACtC,MAAMC,EAAgBtE,EACpBC,EACAmE,EACAlB,GAGIqB,EADOH,EAAOzE,wBACAuD,GAAea,EAAWb,GAAeoB,EAC7D,OAAOlD,KAAKoD,IAAID,EAAO,IAEnBE,EAAYrD,KAAKC,OAAO2C,GACxBU,EAAsBV,EAAQW,QAAQF,GAC5CnB,EAAiB,CAAEV,MAAOa,EAAQnB,gBAAiBoC,GAAsB,GAE3E,CAACzE,EAAUgD,EAAiBC,EAAaF,EAAiBI,IAEtDwB,GAAU,IAAApB,cAAY,KAC1B,IAAKvD,EACH,OAEF,MAAM2D,EAAQC,MAAMC,KAAK7D,EAAS5C,UAC5B0G,EAAa9D,EAASN,wBAC5B,IAAIkF,EACJ,MAAMpB,EAASG,EAAMkB,QAAO,CAACC,EAAK3G,EAAM4G,KACtCpE,EAAOxC,aAAgBiG,YAAa,wBACpC,MAAMY,EAAWF,EAAIA,EAAIpB,OAAS,GAC5BzE,EAAOH,EAAcX,EAAMA,EAAK2B,eACtC,IAAKkF,GAAY/F,EAAKiE,GAAc0B,EAAmBzD,KAAK8D,KAAKnB,EAAWhB,IAAa,CACvFgC,EAAII,KAAK,CAACH,IACV,MAAMV,EAAgBtE,EACpBC,EACA7B,EACA8E,GAEF2B,EAAmB3F,EAAKgE,GAAeoB,CACzC,MACEW,EAASE,KAAKH,GAEhB,OAAOD,CAAG,GACT,IACHxB,EAAkBE,EAAO,GACxB,CACDF,EACAtD,EACA8C,EACAI,EACAD,EACAE,KAEF,IAAAgC,kBAAgB,KACdR,GAAS,GACR,CAACA,KACJ,IAAAvC,YAAU,KACR,MAAMgD,EAAS,KACbT,GAAS,EAIX,OAFAvE,OAAOiF,iBAAiB,SAAUD,GAClChF,OAAOiF,iBAAiB,oBAAqBD,GACtC,KACLhF,OAAOkF,oBAAoB,SAAUF,GACrChF,OAAOkF,oBAAoB,oBAAqBF,EAAO,CACxD,GACA,CAACT,KACJ,IAAAvC,YAAU,KACR,IAAKpC,EACH,OAEF,MAAMoF,EAAS,KACb9B,EAAkBX,EAAM,EAG1B,OADA3C,EAASqF,iBAAiB,SAAUD,GAC7B,KACLpF,EAASsF,oBAAoB,SAAUF,EAAO,CAC/C,GACA,CAAC9B,EAAmBX,EAAO3C,IAC9B,MAAMuF,EAAcC,IAClB,IAAKxF,EACH,OAEF,MAAMiE,EAAOtB,EAAM6C,GACnB,IAAKvB,EACH,OAEF,MAEME,EAFQP,MAAMC,KAAK7D,EAAS5C,UAChB6G,EAAK,IAEvB,KAAME,aAAkBC,aACtB,OAEF,MAAMC,EAAgBtE,EACpBC,EACAmE,EACAlB,GAEFjD,EAASyF,SAAS,CAChBC,SAAU,SACV,CAACzC,GAAcnE,EAAcqF,EAAQA,EAAOrE,eAAemD,GAAeoB,GAC1E,EAQE7B,GAAmB,IAAAmD,UACvB,IAAM,IAAIC,IAAIjD,EAAMqB,KAAKC,GAASA,EAAK,OACvC,CAACtB,IAEH,MAAO,CACLD,KAXiB,KACjB6C,EAAWlD,EAAkB,EAAE,EAW/BI,KATiB,KACjB8C,EAAWlD,EAAkB,EAAE,EAS/BE,KAAMgD,EACNZ,UACAhC,QACAN,kBACAG,mBACAF,UAAWc,EACZ,EEvHGyC,GACEC,EAAUzD,IAAoBM,EAAMe,OAAS,EAC7CqC,EAAoC,IAApB1D,EAEhBpE,EAAW0D,GACR,KACDA,EACEoE,EACFxD,EAAKI,EAAMe,OAAS,GAEpBhB,IAGEoD,EACFvD,EAAK,GAELE,GAEJ,EAIEuD,EAAgBrD,EAAMe,OAAS,EAAIf,EAAM,GAAGe,OAAS,EACzDuC,EAAQ9E,KAAK+E,IAAK7D,EAAkB2D,EAAiBA,EAAe,GACpEG,EAAMhF,KAAKC,IAAI6E,EAAQD,EAAgBA,EAAejJ,EAAMK,SAASsG,OAAS,GAEhF,OACE1G,EAAAA,cAAA,OAAKG,UAAU,YACbH,EAAAA,cAAA,MACEG,UAAU,oBACViJ,IAAK9D,EACL+D,MAAO,CACLC,QAAS,OACTC,SAAU,OACVC,eAAgB,gBAGjBzJ,EAAMK,SAAS4G,KAAI,CAACyC,EAAUC,IAE3B1J,EAAAA,cAAA,MAAIG,UAAU,gBACZkJ,MAAOnE,EAAW,CAChByE,gBAAiBnE,EAAiBoE,IAAIF,GAAO,QAAU,IACrD,KAAMG,IAAKH,GACZA,GAAOT,GAASS,GAAOP,GACtBnJ,EAAAA,cAAAA,EAAAA,SAAA,KACGyJ,OAQfzJ,EAAAA,cAAC4E,EAAO,CACJD,QAAQ,EACR1D,QAASA,GAAQ,KAErBjB,EAAAA,cAAC4E,EAAO,CACND,QAAQ,EACR1D,QAASA,GAAQ,KAEf,EAYV,MARyBlB,GACO,IAA1BA,EAAMK,SAASsG,OACV,KAGF1G,EAAAA,cAACiF,EAAalF,G,8BClGvB,MAAM+J,EAA+B/J,IACjC,MAAM,WAACgK,EAAU,KAAEC,GAAQjK,EAE3B,OACIC,EAAAA,cAAA,OAAKG,UAAU,0BACXH,EAAAA,cAACiK,EAAAA,EAAW,CACRC,OAAOC,EAAAA,EAAAA,GAASJ,EAAWK,MAC3BC,IAAKL,IAEP,EAIRM,EAAsCvK,IACxC,MAAM,WAACwK,GAAcxK,EACrB,OACIC,EAAAA,cAAAA,EAAAA,SAAA,KACKuK,EAAWvD,KAAI,CAACwD,EAAKd,IACX1J,EAAAA,cAAA,KAAGG,UAAU,2BAA2B0J,IAAKH,GAAMc,KAE/D,EA+BX,MA3BkCzK,IAC9B,MAAM,KAAE0K,GAAS1K,GAEX,GAACa,EAAE,MAAE8J,EAAK,QAAE7J,GAAW4J,EACvBT,EAAOS,EAAKT,KAAKW,OACjBC,GAAO,YAAchK,GAAI+J,OAE/B,OACI3K,EAAAA,cAAA,OAAKG,UAAU,8BACXH,EAAAA,cAAA,OAAKG,UAAU,qBAEXH,EAAAA,cAAC6K,EAAAA,KAAS,CAAC1K,UAAU,wBAAwB2K,GAAIF,GAC7C5K,EAAAA,cAAC8J,EAA2B,CAACC,WAAYU,EAAKV,WAAYC,KAAMA,IAChEhK,EAAAA,cAAC+K,EAAAA,GAAE,CAAC5K,UAAU,0BAA0B6J,GACxChK,EAAAA,cAACsK,EAAkC,CAACC,WAAYE,EAAKF,cAGzDvK,EAAAA,cAACgL,EAAAA,EAAe,CACZN,MAAOA,EACP7J,QAASA,EACTD,GAAIA,KAGV,ECjDd,MAAMqK,EAAWlL,IACf,MAAM,gBAACmL,GAAmBnL,EAC1B,IAAKmL,EACH,OAAO,KAGT,MAAM,SAAEC,GAAaD,EACrB,OAAwB,IAApBC,EAASzE,OACJ,KAIP1G,EAAAA,cAAA,OAAK6J,IAAKqB,EAAgBzJ,MACxBzB,EAAAA,cAACoL,EAAe,KACbD,EAASnE,KAAKyD,GAEXzK,EAAAA,cAACqL,EAAwB,CAACxB,IAAKY,EAAK7J,GAAI6J,KAAMA,OAIhD,EAwDV,MApDsB1K,IACpB,MAAM,aAAEuL,EAAY,mBAAEC,EAAkB,SAAEJ,EAAQ,OAAEK,GAAWzL,EACzD0L,GAAqB9C,EAAAA,EAAAA,UACzB,KACE,MAAM+C,EAAa,CAAC,EACpBP,EAASQ,SAAQC,IACf,MAAM,SAAEC,GAAaD,EACjBL,EAAmBM,KAChBH,EAAWG,KACdH,EAAWG,GAAY,IAGzBH,EAAWG,GAAU3D,KAAK,IACrB0D,EACH7B,WAAYyB,EAAOpK,MAAK0K,IAAUA,EAAMC,aAAe,IAAIpB,SAAWiB,EAAQI,aAAarB,SAC3FJ,WAAY,CACVqB,EAAQlF,OAAM,WAAckF,EAAQlF,OAAW,KAC/CkF,EAAQpJ,MAAK,UAAaoJ,EAAQpJ,MAAU,KAC5CoJ,EAAQnJ,OAAM,WAAcmJ,EAAQnJ,OAAW,MAC/CwJ,QAAOC,GAAKA,MAElB,IAcF,OAXYjM,OAAOkM,KAAKT,GACrBO,QAAOpC,GAAO6B,EAAW7B,GAAKnD,OAAS,IACvCM,KAAI6C,IAEI,CACLpI,KAAMoI,EACNsB,SAAUO,EAAW7B,GACrBuC,SAAUb,EAAmB1B,MAIzB,GAEZ,CAAC0B,EAAoBJ,EAAUK,IAGjC,OACExL,EAAAA,cAAA,OAAKG,UAAU,gBAEbH,EAAAA,cAACqM,EAAAA,GAAE,KAAC,YAAUf,GAEdtL,EAAAA,cAACiL,EAAO,CACNC,gBAAiBO,EAAmB,KAElC,E,UCvEV,MAAMa,EAAa,CACjB,WAAY,qBACZ,QAAS,eACT,KAAQ,cACR,KAAQ,iDACR,IAAO,2BACP,YAAe,4FAyCV,SAASC,EAAKxM,GACjB,MACMyB,EAAO,CACTyF,KAAM,CACF+C,KAHKjK,EAAMyM,YAAYlB,eAO/B,OAAOtL,EAAAA,cAACyM,EAAAA,EAAUxM,OAAAC,OAAA,GAAKH,EAAK,CAAEyB,KAAMA,IACxC,CA2CA,MA1FsBzB,IAClB,MAAM,4CACN2M,EAA2C,0CAC3CC,EAAyC,qBACzCC,GACE7M,EAAMyB,KACJ+J,EAAqBvL,EAAAA,SAAc,KACvC,MAAMuL,EAAqB,CAAC,EAO5B,OANAmB,EAA4CG,MAAMlB,SAASlB,IACzDc,EAAmBd,EAAKoB,UAAY,CAClCiB,MAAOrC,EAAKqC,MACb,IAGIvB,CAAkB,GACxB,CAACmB,IAEEvB,EAAWwB,EAA0CE,MACrDrB,EAASxL,EAAAA,SAAc,IACpB4M,EAAqBC,MAAMZ,QAAOH,GAASA,EAAMC,eACvD,CAACa,IAEJ,OACE5M,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC+M,EAAAA,EAAkB,KACjB/M,EAAAA,cAACgN,EAAY/M,OAAAC,OAAA,GAAKH,EAAK,CACnBuL,aAAcvL,EAAMyM,YAAYlB,aAChCC,mBAAoBA,EACpBJ,SAAUA,EACVK,OAAQA,MAIdxL,EAAAA,cAACiN,EAAAA,EAAM,CAACzL,KAAM8K,IACb,C","sources":["webpack://wedding/./src/layout/components/Button/index.js","webpack://wedding/./src/layout/components/AddToCartButton/index.js","webpack://wedding/./src/layout/components/StripeBuyButton/index.js","webpack://wedding/./src/layout/jsonLd/index.js","webpack://wedding/./node_modules/react-snap-carousel/dist/use-snap-carousel.mjs","webpack://wedding/./src/icons/arrow/index.js","webpack://wedding/./src/layout/components/Carousel/index.js","webpack://wedding/./src/layout/components/HomeProductCard/index.js","webpack://wedding/./src/layout/pages/CategoryPage/index.js","webpack://wedding/./src/templates/category.js"],"sourcesContent":["import * as React from \"react\";\n\nimport \"./styles.scss\";\n\nconst Button = (props) => {\n\n    return (\n        <button className=\"Button\" {...props}>\n            {props.children}\n        </button>\n    );\n};\n\nexport default Button;","import React, { useContext, useState }  from \"react\";\nimport cartContext from \"../../../context/cartContext\";\n\nimport Button from \"../Button\";\n\nconst AddToCartButton = (props) => {\n    const [ isAdding, setIsAdding] = useState(false);\n    const { cart, updateQuantity } = useContext(cartContext);\n\n    const {id, priceId} = props;\n    if (!priceId) {\n        return null;\n    }\n\n    const addItem = () => {\n        const item = cart.find(item => item.priceId === priceId);\n        if (!item) {\n            updateQuantity(priceId, id, 1);\n        } else {\n            updateQuantity(priceId, id, item.quantity + 1);\n        }\n        setIsAdding(true);\n        setTimeout(() => {\n            setIsAdding(false);\n        }, 400);\n    };\n\n    const text = isAdding ? 'Adding':  'Add to cart';\n    return (\n        <Button disabled={isAdding} onClick={addItem}>{text}</Button>\n    )\n}\n\nexport default AddToCartButton;","import React from \"react\";\nimport AddToCartButton from \"../AddToCartButton\";\n\nimport \"./styles.scss\";\n\nconst StripeBuyButton = (props) => {\n    const {id, priceId} = props;\n\n    return (\n        <AddToCartButton priceId={priceId} id={id} />\n    );\n}\n\nexport default StripeBuyButton;","import React, {useEffect, useState}  from \"react\";\n\nexport const withTwoPassRendering = (WrappedComponent) => ({\n    children,\n    ...rest\n  }) => {\n    const [isClient, setIsClient] = useState(false);\n  \n    useEffect(() => {\n      setIsClient(true);\n    }, [setIsClient]);\n  \n    return (\n      <WrappedComponent {...rest} key={isClient}>\n        {children}\n      </WrappedComponent>\n    );\n  };\n\nconst JsonLd = (props) => {\n  const { data } = props;\n\n  return (\n    <script type='application/ld+json' dangerouslySetInnerHTML={{ __html: JSON.stringify(data) }} />\n  )\n\n};\n\nexport default JsonLd;","// src/use-snap-carousel.tsx\nimport {\n  useState,\n  useCallback,\n  useLayoutEffect,\n  useEffect,\n  useMemo\n} from \"react\";\nvar useSnapCarousel = ({\n  axis = \"x\",\n  initialPages = []\n} = {}) => {\n  const dimension = axis === \"x\" ? \"width\" : \"height\";\n  const scrollDimension = axis === \"x\" ? \"scrollWidth\" : \"scrollHeight\";\n  const clientDimension = axis === \"x\" ? \"clientWidth\" : \"clientHeight\";\n  const nearSidePos = axis === \"x\" ? \"left\" : \"top\";\n  const farSidePos = axis === \"x\" ? \"right\" : \"bottom\";\n  const scrollPos = axis === \"x\" ? \"scrollLeft\" : \"scrollTop\";\n  const [scrollEl, setScrollEl] = useState(null);\n  const [{ pages, activePageIndex }, setCarouselState] = useState({\n    pages: initialPages,\n    activePageIndex: 0\n  });\n  const refreshActivePage = useCallback(\n    (pages2) => {\n      if (!scrollEl) {\n        return;\n      }\n      const hasScrolledToEnd = Math.floor(scrollEl[scrollDimension] - scrollEl[scrollPos]) <= scrollEl[clientDimension];\n      if (hasScrolledToEnd) {\n        setCarouselState({ pages: pages2, activePageIndex: pages2.length - 1 });\n        return;\n      }\n      const items = Array.from(scrollEl.children);\n      const scrollPort = scrollEl.getBoundingClientRect();\n      const offsets = pages2.map((page) => {\n        const leadIndex = page[0];\n        const leadEl = items[leadIndex];\n        assert(leadEl instanceof HTMLElement, \"Expected HTMLElement\");\n        const scrollSpacing = getEffectiveScrollSpacing(\n          scrollEl,\n          leadEl,\n          nearSidePos\n        );\n        const rect = leadEl.getBoundingClientRect();\n        const offset = rect[nearSidePos] - scrollPort[nearSidePos] - scrollSpacing;\n        return Math.abs(offset);\n      });\n      const minOffset = Math.min(...offsets);\n      const nextActivePageIndex = offsets.indexOf(minOffset);\n      setCarouselState({ pages: pages2, activePageIndex: nextActivePageIndex });\n    },\n    [scrollEl, clientDimension, nearSidePos, scrollDimension, scrollPos]\n  );\n  const refresh = useCallback(() => {\n    if (!scrollEl) {\n      return;\n    }\n    const items = Array.from(scrollEl.children);\n    const scrollPort = scrollEl.getBoundingClientRect();\n    let currPageStartPos;\n    const pages2 = items.reduce((acc, item, i) => {\n      assert(item instanceof HTMLElement, \"Expected HTMLElement\");\n      const currPage = acc[acc.length - 1];\n      const rect = getOffsetRect(item, item.parentElement);\n      if (!currPage || rect[farSidePos] - currPageStartPos > Math.ceil(scrollPort[dimension])) {\n        acc.push([i]);\n        const scrollSpacing = getEffectiveScrollSpacing(\n          scrollEl,\n          item,\n          nearSidePos\n        );\n        currPageStartPos = rect[nearSidePos] - scrollSpacing;\n      } else {\n        currPage.push(i);\n      }\n      return acc;\n    }, []);\n    refreshActivePage(pages2);\n  }, [\n    refreshActivePage,\n    scrollEl,\n    dimension,\n    farSidePos,\n    nearSidePos,\n    scrollPos\n  ]);\n  useLayoutEffect(() => {\n    refresh();\n  }, [refresh]);\n  useEffect(() => {\n    const handle = () => {\n      refresh();\n    };\n    window.addEventListener(\"resize\", handle);\n    window.addEventListener(\"orientationchange\", handle);\n    return () => {\n      window.removeEventListener(\"resize\", handle);\n      window.removeEventListener(\"orientationchange\", handle);\n    };\n  }, [refresh]);\n  useEffect(() => {\n    if (!scrollEl) {\n      return;\n    }\n    const handle = () => {\n      refreshActivePage(pages);\n    };\n    scrollEl.addEventListener(\"scroll\", handle);\n    return () => {\n      scrollEl.removeEventListener(\"scroll\", handle);\n    };\n  }, [refreshActivePage, pages, scrollEl]);\n  const handleGoTo = (index) => {\n    if (!scrollEl) {\n      return;\n    }\n    const page = pages[index];\n    if (!page) {\n      return;\n    }\n    const items = Array.from(scrollEl.children);\n    const leadIndex = page[0];\n    const leadEl = items[leadIndex];\n    if (!(leadEl instanceof HTMLElement)) {\n      return;\n    }\n    const scrollSpacing = getEffectiveScrollSpacing(\n      scrollEl,\n      leadEl,\n      nearSidePos\n    );\n    scrollEl.scrollTo({\n      behavior: \"smooth\",\n      [nearSidePos]: getOffsetRect(leadEl, leadEl.parentElement)[nearSidePos] - scrollSpacing\n    });\n  };\n  const handlePrev = () => {\n    handleGoTo(activePageIndex - 1);\n  };\n  const handleNext = () => {\n    handleGoTo(activePageIndex + 1);\n  };\n  const snapPointIndexes = useMemo(\n    () => new Set(pages.map((page) => page[0])),\n    [pages]\n  );\n  return {\n    prev: handlePrev,\n    next: handleNext,\n    goTo: handleGoTo,\n    refresh,\n    pages,\n    activePageIndex,\n    snapPointIndexes,\n    scrollRef: setScrollEl\n  };\n};\nvar getOffsetRect = (el, relativeTo) => {\n  const rect = _getOffsetRect(el);\n  if (!relativeTo) {\n    return rect;\n  }\n  const relativeRect = _getOffsetRect(relativeTo);\n  return {\n    left: rect.left - relativeRect.left,\n    top: rect.top - relativeRect.top,\n    right: rect.right - relativeRect.left,\n    bottom: rect.bottom - relativeRect.top,\n    width: rect.width,\n    height: rect.height\n  };\n};\nvar _getOffsetRect = (el) => {\n  const rect = el.getBoundingClientRect();\n  let scrollLeft = 0;\n  let scrollTop = 0;\n  let parentEl = el.parentElement;\n  while (parentEl) {\n    scrollLeft += parentEl.scrollLeft;\n    scrollTop += parentEl.scrollTop;\n    parentEl = parentEl.parentElement;\n  }\n  const left = rect.left + scrollLeft;\n  const top = rect.top + scrollTop;\n  return {\n    left,\n    top,\n    right: left + rect.width,\n    bottom: top + rect.height,\n    width: rect.width,\n    height: rect.height\n  };\n};\nvar getScrollPaddingUsedValue = (el, pos) => {\n  const style = window.getComputedStyle(el);\n  const scrollPadding = style.getPropertyValue(`scroll-padding-${pos}`);\n  if (scrollPadding === \"auto\") {\n    return 0;\n  }\n  const invalidMsg = `Unsupported scroll padding value, expected <length> or <percentage> value, received ${scrollPadding}`;\n  if (scrollPadding.endsWith(\"px\")) {\n    const value = parseInt(scrollPadding);\n    assert(!Number.isNaN(value), invalidMsg);\n    return value;\n  }\n  if (scrollPadding.endsWith(\"%\")) {\n    const value = parseInt(scrollPadding);\n    assert(!Number.isNaN(value), invalidMsg);\n    return el.clientWidth / 100 * value;\n  }\n  throw new RSCError(invalidMsg);\n};\nvar getScrollMarginUsedValue = (el, pos) => {\n  const style = window.getComputedStyle(el);\n  const scrollMargin = style.getPropertyValue(`scroll-margin-${pos}`);\n  const invalidMsg = `Unsupported scroll margin value, expected <length> value, received ${scrollMargin}`;\n  assert(scrollMargin.endsWith(\"px\"), invalidMsg);\n  const value = parseInt(scrollMargin);\n  assert(!Number.isNaN(value), invalidMsg);\n  return value;\n};\nvar getEffectiveScrollSpacing = (scrollEl, itemEl, pos) => {\n  const scrollPadding = getScrollPaddingUsedValue(scrollEl, pos);\n  const scrollMargin = getScrollMarginUsedValue(itemEl, pos);\n  const rect = getOffsetRect(itemEl, itemEl.parentElement);\n  return Math.min(scrollPadding + scrollMargin, rect[pos]);\n};\nfunction assert(value, message) {\n  if (value) {\n    return;\n  }\n  throw new RSCError(message);\n}\nvar RSCError = class extends Error {\n  constructor(message) {\n    super(`[react-snap-carousel]: ${message}`);\n  }\n};\nexport {\n  useSnapCarousel\n};\n","import * as React from \"react\";\n\nimport \"./styles.scss\";\n\nconst Arrow = (props) => {\n    const {color = ''} = props; \n    return (\n        <div aria-label=\"Arrow Button\" role=\"button\"\n            className={`Arrow ${props.isLeft ? 'LeftArrow' : 'RightArrow'} ${color}`}>\n        </div>\n    );\n}\n\nexport default Arrow;","import React, {useEffect, useState}  from \"react\";\n\nimport { useSnapCarousel } from 'react-snap-carousel';\nimport IconButton from \"../IconButton\";\nimport Arrow from \"../../../icons/arrow\";\nimport \"./styles.scss\";\n\nconst Chevron = (props) => {\n  const { isLeft, onClick } = props;\n  const cn = isLeft ? \"ScrollButton Left\" : \"ScrollButton Right\"; \n\n  return (\n    <IconButton\n      className={cn}\n      variant=\"unstyled\"\n      onClick={onClick}\n    >\n      <Arrow isLeft={isLeft} color={'pink'} />\n    </IconButton>\n  );\n}\n\nconst Carousel = (props) => {\n  const [isClient, setIsClient] = useState(false);\n  \n  useEffect(() => {\n    setIsClient(true);\n  }, [setIsClient]);\n\n  const {\n    activePageIndex,\n    scrollRef,\n    goTo,\n    snapPointIndexes,\n    next,\n    prev,\n    pages,\n  } = useSnapCarousel();\n  const isAtEnd = activePageIndex === pages.length - 1;\n  const isAtBeginning = activePageIndex === 0;\n\n  const onClick = (isLeft) => {\n    return () => {\n      if (isLeft) {\n        if (isAtBeginning) {\n          goTo(pages.length - 1);\n        } else {\n          prev();\n        }\n      } else {\n        if (isAtEnd) {\n          goTo(0);\n        } else {\n          next();\n        }\n      }\n    }\n  };\n\n  const imagesPerPage = pages.length > 0 ? pages[0].length : 0,\n    start = Math.max((activePageIndex * imagesPerPage) - imagesPerPage, 0),\n    end = Math.min(start + imagesPerPage + imagesPerPage, props.children.length - 1);\n\n  return (\n    <div className=\"Carousel\">\n      <ul\n        className=\"CarouselContainer\"\n        ref={scrollRef}\n        style={{\n          display: 'flex',\n          overflow: 'auto',\n          scrollSnapType: 'x mandatory'\n        }}\n      >\n        {props.children.map((childImg, idx) => {\n          return (\n            <li className=\"CarouselImage\"\n              style={isClient ? {\n                scrollSnapAlign: snapPointIndexes.has(idx) ? \"start\" : \"\"\n              } : null} key={idx}>\n                {idx >= start && idx <= end &&\n                  <>\n                    {childImg}\n                  </>\n                }\n            </li>\n          );\n        })}\n      </ul>\n\n      <Chevron \n          isLeft={true} \n          onClick={onClick(true)}\n      />\n      <Chevron\n        isLeft={false}\n        onClick={onClick(false)}\n      />\n    </div>\n  );\n};\n\nconst CarouselWrapper = (props) => {\n  if (props.children.length === 0) {\n    return null;\n  }\n\n  return <Carousel {...props} />\n};\n\nexport default CarouselWrapper;","import React from \"react\";\nimport { H3 } from \"../Header\";\nimport { Link as GatsyLink } from \"gatsby\";\nimport StripeBuyButton from \"../StripeBuyButton\";\n\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\nimport \"./styles.scss\";\n\nconst PetitsAnimauxProductCardImg = (props) => {\n    const {coverPhoto, name} = props;\n\n    return (\n        <div className=\"PetitsAnimauxCardImage\">\n            <GatsbyImage\n                image={getImage(coverPhoto.file)}\n                alt={name}\n            />\n        </div> \n    );\n}\n\nconst PetitsAnimauxProductCardDimensions = (props) => {\n    const {dimensions} = props;\n    return (\n        <>\n            {dimensions.map((str, idx) => {\n                return <p className=\"PetitsAnimauxDescription\" key={idx}>{str}</p>\n            })}\n        </>\n    );\n}\n\nconst PetitsAnimauxProductCard = (props) => {\n    const { node } = props;\n\n    const {id, price, priceId} = node;\n    const name = node.name.trim();\n    const url = (\"/product/\" + id).trim();\n\n    return (\n        <div className=\"PetitsAnimauxCardContainer\">\n            <div className=\"PetitsAnimauxCard\">\n\n                <GatsyLink className=\"PetitsAnimauxCardLink\" to={url}>\n                    <PetitsAnimauxProductCardImg coverPhoto={node.coverPhoto} name={name} />\n                    <H3 className=\"PetitsAnimauxCardTitle\">{name}</H3>\n                    <PetitsAnimauxProductCardDimensions dimensions={node.dimensions} />\n                </GatsyLink>\n                \n                <StripeBuyButton \n                    price={price} \n                    priceId={priceId} \n                    id={id} \n                />\n            </div>\n        </div>\n    );\n}\n\nexport default PetitsAnimauxProductCard;","import React, { useMemo } from \"react\";\nimport { H1 } from \"../../components/Header\";\nimport CarouselWrapper from \"../../components/Carousel\";\nimport PetitsAnimauxProductCard from \"../../components/HomeProductCard\";\n\nimport \"./styles.scss\";\n\nconst Section = (props) => {\n  const {productMetadata} = props;\n  if (!productMetadata) {\n    return null;\n  }\n\n  const { products } = productMetadata;\n  if (products.length === 0) {\n    return null;\n  }\n\n  return (\n    <div key={productMetadata.type}>\n      <CarouselWrapper>\n        {products.map((node) => {\n          return (\n            <PetitsAnimauxProductCard key={node.id} node={node} />\n          );\n        })}\n      </CarouselWrapper>\n    </div>\n  );\n}\n\nconst CategoryPage = (props) => {\n  const { categoryName, productTypeMapping, products, photos } = props;\n  const normalizedProducts = useMemo(\n    () => {\n      const categories = {};\n      products.forEach(product => {\n        const { category } = product;\n        if (productTypeMapping[category]) {\n          if (!categories[category]) {\n            categories[category] = [];\n          }\n\n          categories[category].push({\n            ...product,\n            coverPhoto: photos.find(photo => (photo.description || \"\").trim() === product.coverPhotoId.trim()),\n            dimensions: [\n              product.length ? `Length: ${product.length}` : null,\n              product.width ? `Width: ${product.width}` : null,\n              product.height ? `Height: ${product.height}` : null,\n            ].filter(a => a),\n          });\n        }\n      });\n\n      const res = Object.keys(categories)\n        .filter(key => categories[key].length > 0)\n        .map(key => {\n\n          return {\n            type: key,\n            products: categories[key],\n            metadata: productTypeMapping[key],\n          };\n        });\n\n      return res;\n    },\n    [productTypeMapping, products, photos]\n  );\n\n  return (\n    <div className=\"CategoryPage\">\n\n      <H1>Shop for {categoryName}</H1>\n\n      <Section \n        productMetadata={normalizedProducts[0]} \n      />\n    </div>\n  )\n};\n\nexport default CategoryPage;","import { graphql } from \"gatsby\";\n\nimport React from \"react\";\nimport MainSectionWrapper from \"../layout\";\nimport CommonHead from \"../layout/Head\";\nimport CategoryPage from \"../layout/pages/CategoryPage\";\nimport JsonLd from \"../layout/jsonLd\";\n\nconst baseJsonLd = {\n  \"@context\": \"http://schema.org/\",\n  \"@type\": \"Organization\",\n  \"name\": \"CrochetNest\",\n  \"logo\": \"https://crochetnest.com/icons/icon-512x512.png\",\n  \"url\": \"https://crochetnest.com/\",\n  \"description\": \"Discover the unique items that Crochet Nests creates. We sell the best crochet products.\",\n};\n\nconst PageTemplate = (props) => {\n    const {\n    allGoogleSpreadsheetPetitsAnimauxCategories,\n    allGoogleSpreadsheetPetitsAnimauxProducts,\n    allGooglePhotosPhoto,\n  } = props.data;\n  const productTypeMapping = React.useMemo(() => {\n    const productTypeMapping = {};\n    allGoogleSpreadsheetPetitsAnimauxCategories.nodes.forEach((node) => {\n      productTypeMapping[node.category] = {\n        title: node.title,\n      };\n    });\n\n    return productTypeMapping;\n  }, [allGoogleSpreadsheetPetitsAnimauxCategories]);\n\n  const products = allGoogleSpreadsheetPetitsAnimauxProducts.nodes;\n  const photos = React.useMemo(() => {\n    return allGooglePhotosPhoto.nodes.filter(photo => photo.description);\n  }, [allGooglePhotosPhoto]);\n\n  return (\n    <>\n      <MainSectionWrapper>\n        <CategoryPage {...props} \n            categoryName={props.pageContext.categoryName}\n            productTypeMapping={productTypeMapping} \n            products={products} \n            photos={photos}\n        />\n      </MainSectionWrapper>\n\n      <JsonLd data={baseJsonLd} />\n    </>\n  )\n};\n\nexport function Head(props) {\n    const name = props.pageContext.categoryName;\n    const data = {\n        page: {\n            name, \n        }\n    };\n\n    return <CommonHead {...props} data={data} />;\n}\n\nexport const query = graphql`\n  query PetitsAnimaux($category: String!) {\n    allGoogleSpreadsheetPetitsAnimauxProducts {\n      nodes {\n        name\n        id\n        price\n        category\n        coverPhotoId\n        priceId\n        width\n        height\n        length\n      }\n    }\n    \n    allGoogleSpreadsheetPetitsAnimauxCategories(filter: { category: {eq: $category }}) {\n        nodes {\n            id\n            category\n            title\n        }\n    }\n\n    allGooglePhotosPhoto(filter: {album: {title: {eq: \"P2F\"} } }) {\n      nodes {\n        id\n        file {\n          childImageSharp {\n            gatsbyImageData(\n              height: 160\n            )\n          }\n        }\n        description\n      }\n    }\n\n  }\n`;\n\nexport default PageTemplate;"],"names":["props","React","Object","assign","className","children","isAdding","setIsAdding","useState","cart","updateQuantity","useContext","cartContext","id","priceId","text","Button","disabled","onClick","addItem","item","find","quantity","setTimeout","AddToCartButton","data","type","dangerouslySetInnerHTML","__html","JSON","stringify","getOffsetRect","el","relativeTo","rect","_getOffsetRect","relativeRect","left","top","right","bottom","width","height","getBoundingClientRect","scrollLeft","scrollTop","parentEl","parentElement","getEffectiveScrollSpacing","scrollEl","itemEl","pos","scrollPadding","window","getComputedStyle","getPropertyValue","invalidMsg","endsWith","value","parseInt","assert","Number","isNaN","clientWidth","RSCError","getScrollPaddingUsedValue","scrollMargin","getScrollMarginUsedValue","Math","min","message","Error","constructor","super","color","role","isLeft","Chevron","cn","IconButton","variant","Arrow","Carousel","isClient","setIsClient","useEffect","activePageIndex","scrollRef","goTo","snapPointIndexes","next","prev","pages","axis","initialPages","dimension","scrollDimension","clientDimension","nearSidePos","farSidePos","scrollPos","setScrollEl","setCarouselState","refreshActivePage","useCallback","pages2","floor","length","items","Array","from","scrollPort","offsets","map","page","leadIndex","leadEl","HTMLElement","scrollSpacing","offset","abs","minOffset","nextActivePageIndex","indexOf","refresh","currPageStartPos","reduce","acc","i","currPage","ceil","push","useLayoutEffect","handle","addEventListener","removeEventListener","handleGoTo","index","scrollTo","behavior","useMemo","Set","useSnapCarousel","isAtEnd","isAtBeginning","imagesPerPage","start","max","end","ref","style","display","overflow","scrollSnapType","childImg","idx","scrollSnapAlign","has","key","PetitsAnimauxProductCardImg","coverPhoto","name","GatsbyImage","image","getImage","file","alt","PetitsAnimauxProductCardDimensions","dimensions","str","node","price","trim","url","GatsyLink","to","H3","StripeBuyButton","Section","productMetadata","products","CarouselWrapper","PetitsAnimauxProductCard","categoryName","productTypeMapping","photos","normalizedProducts","categories","forEach","product","category","photo","description","coverPhotoId","filter","a","keys","metadata","H1","baseJsonLd","Head","pageContext","CommonHead","allGoogleSpreadsheetPetitsAnimauxCategories","allGoogleSpreadsheetPetitsAnimauxProducts","allGooglePhotosPhoto","nodes","title","MainSectionWrapper","CategoryPage","JsonLd"],"sourceRoot":""}