"use strict";(self.webpackChunkwedding=self.webpackChunkwedding||[]).push([[102],{6090:function(e,t,n){n.d(t,{i:function(){return a}});var r=n(462);const a=(e,t)=>{const n=(0,r.C)(t,e.coverPhotoId);return{...e,coverPhoto:n[0],photos:n,dimensions:[e.length?"Length: "+e.length:null,e.width?"Width: "+e.width:null,e.height?"Height: "+e.height:null].filter((e=>e))}}},2032:function(e,t,n){var r=n(7294);t.Z=e=>r.createElement("button",Object.assign({className:"Button"},e),e.children)},3225:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(7294),a=n(3938),o=n(2032);var c=e=>{const{0:t,1:n}=(0,r.useState)(!1),{cart:c,updateQuantity:i}=(0,r.useContext)(a.Z),{id:s,priceId:l}=e;if(!l)return null;const u=t?"Adding":"Add to cart";return r.createElement(o.Z,{disabled:t,onClick:()=>{const e=c.find((e=>e.priceId===l));i(l,s,e?e.quantity+1:1),n(!0),setTimeout((()=>{n(!1)}),400)}},u)};var i=e=>{const{id:t,priceId:n}=e;return r.createElement(c,{priceId:n,id:t})}},462:function(e,t,n){n.d(t,{C:function(){return r}});const r=(e,t)=>{const n=[];return e.forEach((e=>{e.description.split(",").forEach((r=>{t.trim()===r.trim()&&n.push(e)}))})),n.sort()}},8799:function(e,t,n){var r=n(7294);t.Z=e=>{const{data:t}=e;return r.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})}},1056:function(e,t,n){n.r(t),n.d(t,{Head:function(){return E},default:function(){return v}});var r=n(7294),a=n(7782),o=n(5593),c=n(6952),i=n(1883),s=n(3225),l=n(8032);const u=e=>{const{coverPhoto:t,name:n}=e;return r.createElement("div",{className:"PetitsAnimauxCardImage"},r.createElement(l.G,{image:(0,l.c)(t.file),alt:n}))};var d=e=>{const{node:t}=e,{id:n,price:a,priceId:o}=t,l=t.name.trim(),d=("/product/"+n).trim();return r.createElement("div",{className:"PetitsAnimauxCardContainer"},r.createElement("div",{className:"PetitsAnimauxCard"},r.createElement(i.Link,{className:"PetitsAnimauxCardLink",to:d},r.createElement(u,{coverPhoto:t.coverPhoto,name:l}),r.createElement(c.H3,{className:"PetitsAnimauxCardTitle"},l)),r.createElement(s.Z,{price:a,priceId:o,id:n})))},m=n(6090);const p=e=>{const{productMetadata:t}=e;if(!t)return null;const{products:n}=t;return 0===n.length?null:r.createElement("div",{className:"ProductContainer"},n.map((e=>r.createElement(d,{key:e.id,node:e}))))};var h=e=>{const{categoryName:t,productTypeMapping:n,products:a,photos:o}=e,i=(0,r.useMemo)((()=>{const e={};a.forEach((t=>{const{category:r}=t;if(n[r]){e[r]||(e[r]=[]);const n=(0,m.i)(t,o);e[r].push(n)}}));return Object.keys(e).filter((t=>e[t].length>0)).map((t=>({type:t,products:e[t],metadata:n[t]})))}),[n,a,o]);return r.createElement("div",{className:"CategoryPage"},r.createElement(c.H1,null,"Shop for ",t),r.createElement(p,{productMetadata:i[0]}))},g=n(8799);const f={"@context":"http://schema.org/","@type":"Organization",name:"CrochetNest",logo:"https://crochetnest.com/icons/icon-512x512.png",url:"https://crochetnest.com/",description:"Discover the unique items that Crochet Nests creates. We sell the best crochet products."};function E(e){const t={page:{name:e.pageContext.categoryName}};return r.createElement(o.Z,Object.assign({},e,{data:t}))}var v=e=>{const{allGoogleSpreadsheetPetitsAnimauxCategories:t,allGoogleSpreadsheetPetitsAnimauxProducts:n,allGooglePhotosPhoto:o}=e.data,c=r.useMemo((()=>{const e={};return t.nodes.forEach((t=>{e[t.category]={title:t.title}})),e}),[t]),i=n.nodes,s=r.useMemo((()=>o.nodes.filter((e=>e.description))),[o]);return r.createElement(r.Fragment,null,r.createElement(a.Z,null,r.createElement(h,Object.assign({},e,{categoryName:e.pageContext.categoryName,productTypeMapping:c,products:i,photos:s}))),r.createElement(g.Z,{data:f}))}}}]);
//# sourceMappingURL=component---src-templates-category-js-4ba89ea5d4794f64a71a.js.map