"use strict";(self.webpackChunkwedding=self.webpackChunkwedding||[]).push([[998],{9793:function(e,t,n){n.r(t),n.d(t,{Head:function(){return k},default:function(){return A}});var r=n(7294),o=n(1476),a=n(5593),l=n(6952),s=(e,t)=>{const n=c(e);if(!t)return n;const r=c(t);return{left:n.left-r.left,top:n.top-r.top,right:n.right-r.left,bottom:n.bottom-r.top,width:n.width,height:n.height}},c=e=>{const t=e.getBoundingClientRect();let n=0,r=0,o=e.parentElement;for(;o;)n+=o.scrollLeft,r+=o.scrollTop,o=o.parentElement;const a=t.left+n,l=t.top+r;return{left:a,top:l,right:a+t.width,bottom:l+t.height,width:t.width,height:t.height}},i=(e,t,n)=>{const r=((e,t)=>{const n=window.getComputedStyle(e).getPropertyValue(`scroll-padding-${t}`);if("auto"===n)return 0;const r=`Unsupported scroll padding value, expected <length> or <percentage> value, received ${n}`;if(n.endsWith("px")){const e=parseInt(n);return u(!Number.isNaN(e),r),e}if(n.endsWith("%")){const t=parseInt(n);return u(!Number.isNaN(t),r),e.clientWidth/100*t}throw new m(r)})(e,n),o=((e,t)=>{const n=window.getComputedStyle(e).getPropertyValue(`scroll-margin-${t}`),r=`Unsupported scroll margin value, expected <length> value, received ${n}`;u(n.endsWith("px"),r);const o=parseInt(n);return u(!Number.isNaN(o),r),o})(t,n),a=s(t,t.parentElement);return Math.min(r+o,a[n])};function u(e,t){if(!e)throw new m(t)}var m=class extends Error{constructor(e){super(`[react-snap-carousel]: ${e}`)}},d=n(9689);var h=e=>{const{color:t=""}=e;return r.createElement("div",{"aria-label":"Arrow Button",role:"button",className:"Arrow "+(e.isLeft?"LeftArrow":"RightArrow")+" "+t})};const p=e=>{const{isLeft:t,onClick:n}=e,o=t?"ScrollButton Left":"ScrollButton Right";return r.createElement(d.Z,{className:o,variant:"unstyled",onClick:n},r.createElement(h,{isLeft:t,color:"pink"}))},g=e=>{const{0:t,1:n}=(0,r.useState)(!1);(0,r.useEffect)((()=>{n(!0)}),[n]);const{activePageIndex:o,scrollRef:a,goTo:l,snapPointIndexes:c,next:m,prev:d,pages:h}=(({axis:e="x",initialPages:t=[]}={})=>{const n="x"===e?"width":"height",o="x"===e?"scrollWidth":"scrollHeight",a="x"===e?"clientWidth":"clientHeight",l="x"===e?"left":"top",c="x"===e?"right":"bottom",m="x"===e?"scrollLeft":"scrollTop",[d,h]=(0,r.useState)(null),[{pages:p,activePageIndex:g},f]=(0,r.useState)({pages:t,activePageIndex:0}),E=(0,r.useCallback)((e=>{if(!d)return;if(Math.floor(d[o]-d[m])<=d[a])return void f({pages:e,activePageIndex:e.length-1});const t=Array.from(d.children),n=d.getBoundingClientRect(),r=e.map((e=>{const r=e[0],o=t[r];u(o instanceof HTMLElement,"Expected HTMLElement");const a=i(d,o,l),s=o.getBoundingClientRect()[l]-n[l]-a;return Math.abs(s)})),s=Math.min(...r),c=r.indexOf(s);f({pages:e,activePageIndex:c})}),[d,a,l,o,m]),v=(0,r.useCallback)((()=>{if(!d)return;const e=Array.from(d.children),t=d.getBoundingClientRect();let r;const o=e.reduce(((e,o,a)=>{u(o instanceof HTMLElement,"Expected HTMLElement");const m=e[e.length-1],h=s(o,o.parentElement);if(!m||h[c]-r>Math.ceil(t[n])){e.push([a]);const t=i(d,o,l);r=h[l]-t}else m.push(a);return e}),[]);E(o)}),[E,d,n,c,l,m]);(0,r.useLayoutEffect)((()=>{v()}),[v]),(0,r.useEffect)((()=>{const e=()=>{v()};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[v]),(0,r.useEffect)((()=>{if(!d)return;const e=()=>{E(p)};return d.addEventListener("scroll",e),()=>{d.removeEventListener("scroll",e)}}),[E,p,d]);const x=e=>{if(!d)return;const t=p[e];if(!t)return;const n=Array.from(d.children)[t[0]];if(!(n instanceof HTMLElement))return;const r=i(d,n,l);d.scrollTo({behavior:"smooth",[l]:s(n,n.parentElement)[l]-r})},w=(0,r.useMemo)((()=>new Set(p.map((e=>e[0])))),[p]);return{prev:()=>{x(g-1)},next:()=>{x(g+1)},goTo:x,refresh:v,pages:p,activePageIndex:g,snapPointIndexes:w,scrollRef:h}})(),g=o===h.length-1,f=0===o,E=e=>()=>{e?f?l(h.length-1):d():g?l(0):m()},v=h.length>0?h[0].length:0,x=Math.max(o*v-v,0),w=Math.min(x+v+v,e.children.length-1);return r.createElement("div",{className:"Carousel"},r.createElement("ul",{className:"CarouselContainer",ref:a,style:{display:"flex",overflow:"auto",scrollSnapType:"x mandatory"}},e.children.map(((e,n)=>r.createElement("li",{className:"CarouselImage",style:t?{scrollSnapAlign:c.has(n)?"start":""}:null,key:n},n>=x&&n<=w&&r.createElement(r.Fragment,null,e))))),r.createElement(p,{isLeft:!0,onClick:E(!0)}),r.createElement(p,{isLeft:!1,onClick:E(!1)}))};var f=e=>0===e.children.length?null:r.createElement(g,e),E=n(1883),v=n(8032);var x=e=>{const t=(0,E.useStaticQuery)("1713222366"),{allGooglePhotosPhoto:n}=t,o=n.nodes[0];return r.createElement(v.G,{image:(0,v.c)(o.file),alt:"Crochet Nest Banner"})},w=n(5540);const P=e=>{const{coverPhoto:t,name:n}=e;return r.createElement("div",{className:"PetitsAnimauxCardImage"},r.createElement(v.G,{image:(0,v.c)(t.file),alt:n}))},y=e=>{const{dimensions:t}=e;return r.createElement(r.Fragment,null,t.map(((e,t)=>r.createElement("p",{className:"PetitsAnimauxDescription",key:t},e))))};var C=e=>{const{node:t}=e,{id:n,price:o,stripeUrl:a}=t,s=t.name.trim(),c=("/product/"+n).trim();return r.createElement("div",{className:"PetitsAnimauxCardContainer"},r.createElement("div",{className:"PetitsAnimauxCard"},r.createElement(E.Link,{className:"PetitsAnimauxCardLink",to:c},r.createElement(P,{coverPhoto:t.coverPhoto,name:s}),r.createElement(l.H3,{className:"PetitsAnimauxCardTitle"},s),r.createElement(y,{dimensions:t.dimensions})),r.createElement(w.Z,{stripeUrl:a,price:o})))};const N=e=>{const{productMetadata:t}=e,{metadata:n,products:o}=t;return 0===o.length?null:r.createElement("div",{key:t.type},r.createElement(l.H2,null,n.title),r.createElement(f,null,o.map((e=>r.createElement(C,{key:e.id,node:e})))))};var L=e=>{const{productTypeMapping:t,products:n,photos:o}=e,a=(0,r.useMemo)((()=>{const e={};n.forEach((n=>{const{category:r}=n;t[r]&&(e[r]||(e[r]=[]),e[r].push({...n,coverPhoto:o.find((e=>(e.description||"").trim()===n.coverPhotoId.trim())),dimensions:[n.length?"Length: "+n.length:null,n.width?"Width: "+n.width:null,n.height?"Height: "+n.height:null].filter((e=>e))}))}));return Object.keys(e).filter((t=>e[t].length>0)).map((n=>({type:n,products:e[n],metadata:t[n]})))}),[t,n,o]);return r.createElement("div",{className:"PetitsAnimauxSection"},r.createElement(x,null),r.createElement(l.H1,null,"Products"),a.map((e=>r.createElement(N,{key:e.type,productMetadata:e}))))},M=n(8799);const b={"@context":"http://schema.org/","@type":"Organization",name:"CrochetNest",logo:"https://crochetnest.com/icons/icon-512x512.png",url:"https://crochetnest.com/",description:"Discover the unique items that Crochet Nests creates. We sell the best crochet products."};function k(e){return r.createElement(a.Z,Object.assign({},e,{data:{page:{name:"Crochet Nest Home"}}}))}var A=e=>{const{allGoogleSpreadsheetPetitsAnimauxCategories:t,allGoogleSpreadsheetPetitsAnimauxProducts:n,allGooglePhotosPhoto:a}=e.data,l=r.useMemo((()=>{const e={};return t.nodes.forEach((t=>{e[t.category]={title:t.title}})),e}),[t]),s=n.nodes,c=r.useMemo((()=>a.nodes.filter((e=>e.description))),[a]);return r.createElement(r.Fragment,null,r.createElement(o.Z,null,r.createElement(L,Object.assign({},e,{productTypeMapping:l,products:s,photos:c}))),r.createElement(M.Z,{data:b}))}}}]);
//# sourceMappingURL=component---src-templates-home-js-e3c8c879e750e971ec00.js.map